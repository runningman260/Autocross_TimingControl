{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Upload {{ event_name }} Data</h2>
  {% if message %}
    <div class="alert alert-success">{{ message }}</div>
  {% endif %}
  <form method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="csv_data" class="form-label">Paste CSV Data</label>
      <textarea class="form-control" id="csv_data" name="csv_data" rows="10" placeholder="Paste CSV here..."></textarea>
    </div>
    <div class="mb-3">
      <label for="csv_file" class="form-label">Or Upload CSV File</label>
      <input class="form-control" type="file" id="csv_file" name="csv_file" accept=".csv">
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
  </form>
  <div class="mt-3">
    <h5>CSV Format Example:</h5>
    <pre>
{% if event_name == "Skidpad" %}
Timestamp,Run Number,Car Number,Raw RIGHT Time or DNF,Raw LEFT Time or DNF,CONE Count,OFF COURSE Count,Adjusted Time,,CONE =,0.125,OFF COURSE =,DNF
7/22/2025 21:11:17,1,45,4.567,3.623,1,,4.22,,,,,
7/22/2025 21:11:17,2,67,6.7891,DNF,,,DNF,,,,,
,,,,,,,0,,,,,
{% elif event_name == "Acceleration" %}
Timestamp,Run Number,Car Number,Raw Time or DNF,CONE Count,OFF COURSE Count,Adjusted Time,,CONE =,2,OFF COURSE =,DNF
7/22/2025 21:19:13,1,45,3.234,1,,5.234,,,,,
7/22/2025 21:19:13,2,56,2,,1,DNF,,,,,
,,,,,,0,,,,,
...
{% else %}
car_number,raw_time_right,raw_time_left,cones,off_course
101,52.123,52.123,0,0
123,32.456,31.789,,
...
{% endif %}
</pre>
  </div>
</div>
{% endblock %}
